# Research & Decisions: Textbook Content Structure

## Decision 1: Directory Structure for Content Scaling

**Decision**: Adopt a deeply nested directory structure: `docs/part-XX-name/chapter-YY-name/index.md`.
**Rationale**:
- **Asset Localization**: Keeps images and code snippets specific to a chapter within that chapter's folder (`docs/part-XX/chapter-YY/img/`, `docs/part-XX/chapter-YY/code/`).
- **Scalability**: With ~60 chapters, a flat structure would be unmanageable.
- **Docusaurus Compatibility**: Works natively with Docusaurus autogenerated sidebars if `_category_.json` is configured correctly in each parent directory.

**Alternatives Considered**:
- *Flat structure (all .md files in `docs/`)*: Rejected due to volume of files.
- *Group by Topic*: Rejected in favor of strict chronological/pedagogical "Part" structure defined in the Spec.

## Decision 2: Handling "Local vs. Cloud" Configurations

**Decision**: Use Docusaurus MDX `<Tabs>` component for "Local Setup" vs "Cloud Setup" instructions.
**Rationale**:
- **User Experience**: Keeps the flow uninterrupted; user selects their context once or per distinct block.
- **Maintainability**: Content is co-located in the same file, reducing drift compared to maintaining two separate parallel chapters.

## Decision 3: Code Example Management

**Decision**: Store complete runnable code examples in a parallel `src/code_examples/` directory (or within chapter subfolders) and reference them in Markdown using Docusaurus `!!!` or `import` syntax if supported, or simply copy-paste with clear filenames.
*Refinement*: To ensure "runnable" quality, code should technically live in a real project structure (e.g., a valid ROS 2 workspace).
*Revised Decision*: Create a `workspace/` root directory (or `exercises/`) in the repo that is a valid ROS 2 workspace. Content chapters will reference these files.
*Correction for this Repo*: Since this is the book repo, we will place code in `static/code/` or `book/code_samples/` and use Docusaurus code block imports or explicit copy-pastes. For the "textbook" experience, explicit code blocks in MDX are often better for reading. We will use explicit MDX code blocks with a "Download Source" link pointing to the `static/` folder.

## Decision 4: Assessment Integration

**Decision**: Assessments (Quizzes/Projects) will be distinct Markdown files at the end of each Part folder: `docs/part-XX/assessment.md`.
**Rationale**: Clearly separates the "test" from the "learning" material in the sidebar navigation.
